<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>
        <p:dialog id="VentaEditDlg" widgetVar="VentaEditDialog" modal="true" resizable="false" appendTo="@(body)" header="#{bundle.EditVentaTitle}">
            <h:form id="VentaEditForm">
                <h:panelGroup id="display">
                    <p:panelGrid columns="2" rendered="#{ventaController.selected != null}">
                        <p:outputLabel for="fechaVenta" value="Fecha Venta (dd/MM/yyyy):"/>
                        <p:calendar id="fechaVenta" pattern="dd/MM/yyyy" value="#{ventaController.selected.fechaVenta}" title="Fecha de la Venta" required="true" requiredMessage="The fechaVenta field is required." showOn="button"/>
                        <p:outputLabel for="cliente" value="Cliente:"/>
                        <p:selectOneMenu id="cliente" value="#{ventaController.selected.cliente}" required="true" requiredMessage="The cliente field is required." >
                            <f:selectItems value="#{personaController.itemsAvailableCliente}"
                                           var="clienteItem"
                                           itemValue="#{clienteItem}"
                                           itemLabel="#{clienteItem.nombre} #{clienteItem.apellido}"/>
                        </p:selectOneMenu>
                        <p:outputLabel for="extraGramos" value="Cantidad Tipo Extra**:"/>
                        <p:inputText id="extraGramos" value="#{ventaController.selected.extraGramos}" title="Cantidad Tipo Extra">
                            <p:ajax update="extraPrecioUnid"/>
                        </p:inputText>
                        <p:outputLabel for="primeraGramos" value="Cantidad Tipo Primera**:"/>
                        <p:inputText id="primeraGramos" value="#{ventaController.selected.primeraGramos}" title="Cantidad Tipo Primera" >
                            <p:ajax update="primeraPrecioUnid"/>
                        </p:inputText>
                        <p:outputLabel for="segundaGramos" value="Cantidad Tipo Segunda**:"/>
                        <p:inputText id="segundaGramos" value="#{ventaController.selected.segundaGramos}" title="Cantidad Tipo Segunda" >
                            <p:ajax update="segundaPrecioUnid"/>
                        </p:inputText>
                        <p:outputLabel for="terceraGramos" value="Cantidad Tipo Tercera**:"/>
                        <p:inputText id="terceraGramos" value="#{ventaController.selected.terceraGramos}" title="Cantidad Tipo Tercera" >
                            <p:ajax update="terceraPrecioUnid"/>
                        </p:inputText>
                        <p:outputLabel for="cuartaGramos" value="Cantidad Tipo Cuarta**:"/>
                        <p:inputText id="cuartaGramos" value="#{ventaController.selected.cuartaGramos}" title="Cantidad Tipo Cuarta" >
                            <p:ajax update="cuartaPrecioUnid"/>
                        </p:inputText>
                        <p:outputLabel for="quintaGramos" value="Cantidad Tipo Quinta**:"/>
                        <p:inputText id="quintaGramos" value="#{ventaController.selected.quintaGramos}" title="Cantidad Tipo Quinta" >
                            <p:ajax update="quintaPrecioUnid"/>
                        </p:inputText>
                        <p:outputLabel for="extraPrecioUnid" value="Extra Precio Unidad:"/>
                        <p:inputText id="extraPrecioUnid" value="#{ventaController.selected.extraPrecioUnid}" disabled="#{ventaController.selected.extraGramos == 0}" title="Extra Precio Unidad" />
                        <p:outputLabel for="primeraPrecioUnid" value="Primera Precio Unidad:"/>
                        <p:inputText id="primeraPrecioUnid" value="#{ventaController.selected.primeraPrecioUnid}" disabled="#{ventaController.selected.primeraGramos == 0}" title="Primera Precio Unidad" />
                        <p:outputLabel for="segundaPrecioUnid" value="Segunda Precio Unidad:"/>
                        <p:inputText id="segundaPrecioUnid" value="#{ventaController.selected.segundaPrecioUnid}" disabled="#{ventaController.selected.segundaGramos == 0}" title="Segunda Precio Unidad" />
                        <p:outputLabel for="terceraPrecioUnid" value="Tercera Precio Unidad:"/>
                        <p:inputText id="terceraPrecioUnid" value="#{ventaController.selected.terceraPrecioUnid}" disabled="#{ventaController.selected.terceraGramos == 0}" title="Tercera Precio Unidad" />
                        <p:outputLabel for="cuartaPrecioUnid" value="Cuarta Precio Unidad:"/>
                        <p:inputText id="cuartaPrecioUnid" value="#{ventaController.selected.cuartaPrecioUnid}" disabled="#{ventaController.selected.cuartaGramos == 0}" title="Cuarta Precio Unidad" />
                        <p:outputLabel for="quintaPrecioUnid" value="Quinta Precio Unidad:"/>
                        <p:inputText id="quintaPrecioUnid" value="#{ventaController.selected.quintaPrecioUnid}" disabled="#{ventaController.selected.quintaGramos == 0}" title="Quinta Precio Unidad" />
                    </p:panelGrid>
                    <h:outputText value="**Ingresar los valores en Libras" style="color: red"/>
                    <p:commandButton actionListener="#{ventaController.update}" value="#{bundle.Save}" update="display,:VentaListPanel:VentaListForm:datalist,:growl" oncomplete="handleSubmit(args, 'VentaEditDialog');"/>
                    <p:commandButton value="#{bundle.Cancel}" onclick="VentaEditDialog.hide()"/>
                </h:panelGroup>
            </h:form>
        </p:dialog>
    </ui:composition>
</html>
